@model ProveedoresModel
@{
    ViewData["Title"] = "EditarProveedor";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card text-center" style="width: 40%;">
    <div class="card-header">
        Especifique el concepto de pago
    </div>
    <div class="card-body">
        <form asp-action="Editar" asp-controller="ProveedoresMatenedor" method="post">

            <!-- Nombre -->
            <div class="mb-4">
                <label for="Nombre" class="form-label">Nombre</label>
                <input asp-for="Nombre" type="text" class="form-control" id="Nombre">
                <span asp-validation-for="Nombre" class="text-danger"></span>

            </div>

            <!-- Tipo de persona -->
            <label for="TipoPersona" class="form-label"> Tipo de Persona </label> <br />

            <select asp-for="TipoPersona" class="form-select" aria-label="Default select example">
                <option selected disabled>Seleccione el tipo de persona</option>
                <option value="Juridica">Juridica</option>
                <option value="Fisica">Fisica</option>
            </select>

            <!-- Cedula -->
            <div class="mb-4">
                <label for="Cedula" class="form-label">Cedula</label>
                <input asp-for="Cedula" type="text" class="form-control" id="Cedula" maxlength="11">
                <span asp-validation-for="Cedula" class="text-danger"></span>

            </div>

            <!-- Balance -->
            <div class="mb-4">
                <label for="Balance" class="form-label">Balance</label>
                <input asp-for="Balance" type="text" class="form-control" id="Balance">
                <span asp-validation-for="Balance" class="text-danger"></span>

            </div>

            <!-- Cuenta Contable -->
            <div class="mb-4">
                <label for="CuentaContable" class="form-label">Cuenta Contable</label>
                <input asp-for="CuentaContable" type="text" class="form-control" id="CuentaContable" maxlength="10">
                <span asp-validation-for="CuentaContable" class="text-danger"></span>

            </div>


            <!-- Estado -->
            <div class="mb-4">
                <label for="Estado" class="form-label">Estado</label>
                <select asp-for="Estado" class="form-select" aria-label="Default select example">
                    <option selected>Seleccione el tipo de persona</option>
                    <option value="Pendiente">Pendiente</option>
                    <option value="Aprobado">Aprobado</option>
                    <option value="En Proceso">En Proceso</option>
                    <option value="Pagado">Pagado</option>
                    <option value="Rechazado">Rechazado</option>
                    <option value="Aprobado">Aprobado</option>
                </select>
            </div>

            <script>
                // Función para validar y formatear el campo de balance
                function validarBalance() {
                    // Obtener el valor del campo de balance
                    var balanceInput = document.getElementById("Balance");
                    var balanceValue = balanceInput.value;

                    // Validar si el valor ingresado es un número decimal
                    if (!isNaN(parseFloat(balanceValue))) {
                        // Formatear el valor como número decimal con dos decimales
                        var balanceDecimal = parseFloat(balanceValue).toFixed(2);
                        // Asignar el valor formateado al campo de balance
                        balanceInput.value = balanceDecimal;
                    } else {
                        // Mostrar un mensaje de error si el valor ingresado no es válido
                        alert("Por favor, ingrese un número decimal válido para el balance.");
                        // Limpiar el campo de balance
                        balanceInput.value = "";
                    }
                }

                // Asociar la función de validación al evento blur del campo de balance
                document.getElementById("Balance").addEventListener("blur", validarBalance);
            </script>

            <button type="submit" class="d-grid gap-2 col-2 mx-auto btn btn-success">Guardar</button>
            <a asp-action="Listar" asp-controller="ProveedoresMatenedor" class="btn btn-dark"> Regresar a la lista </a>
        </form>
    </div>
</div>